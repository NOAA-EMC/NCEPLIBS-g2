<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-g2: ixgb2.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-g2
   &#160;<span id="projectnumber">3.4.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ixgb2_8F90.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">ixgb2.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generate an index record for each field in a GRIB2 message.  
<a href="#details">More...</a></p>

<p><a href="ixgb2_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a497283dd9abc5761d4dfa0eefa43e35e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ixgb2_8F90.html#a497283dd9abc5761d4dfa0eefa43e35e">ixgb2</a> (LUGB, LSKIP, LGRIB, CBUF, NUMFLD, MLEN, IRET)</td></tr>
<tr class="memdesc:a497283dd9abc5761d4dfa0eefa43e35e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate an index record for each field in a GRIB2 message.  <a href="ixgb2_8F90.html#a497283dd9abc5761d4dfa0eefa43e35e">More...</a><br /></td></tr>
<tr class="separator:a497283dd9abc5761d4dfa0eefa43e35e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generate an index record for each field in a GRIB2 message. </p>
<dl class="section author"><dt>Author</dt><dd>Mark Iredell </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1995-10-31 </dd></dl>

<p class="definition">Definition in file <a class="el" href="ixgb2_8F90_source.html">ixgb2.F90</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a497283dd9abc5761d4dfa0eefa43e35e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a497283dd9abc5761d4dfa0eefa43e35e">&#9670;&nbsp;</a></span>ixgb2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ixgb2 </td>
          <td>(</td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>LUGB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>LSKIP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>LGRIB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len = 1), dimension(:), pointer&#160;</td>
          <td class="paramname"><em>CBUF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>NUMFLD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>MLEN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>IRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate an index record for each field in a GRIB2 message. </p>
<p>The index records are written to index buffer pointed to by cbuf. All integers in the index are in big-endian format.</p>
<p>This subroutine is called by <a class="el" href="getg2ir_8F90.html#ab4764647a6cf4a3b178dc4069f46ebfd" title="Generate an index record for a message in a GRIB2 file.">getg2ir()</a>, which packages the index records into an index file.</p>
<p>The index buffer returned contains index records with the format:</p><ul>
<li>byte 001 - 004 length of index record</li>
<li>byte 005 - 008 bytes to skip in data file before GRIB message</li>
<li>byte 009 - 012 bytes to skip in message before lus (local use) set = 0, if no local section.</li>
<li>byte 013 - 016 bytes to skip in message before gds</li>
<li>byte 017 - 020 bytes to skip in message before pds</li>
<li>byte 021 - 024 bytes to skip in message before drs</li>
<li>byte 025 - 028 bytes to skip in message before bms</li>
<li>byte 029 - 032 bytes to skip in message before data section</li>
<li>byte 033 - 040 bytes total in the message</li>
<li>byte 041 - 041 GRIB version number (2)</li>
<li>byte 042 - 042 message discipline</li>
<li>byte 043 - 044 field number within GRIB2 message</li>
<li>byte 045 - ii identification section (ids)</li>
<li>byte ii + 1- jj grid definition section (gds)</li>
<li>byte jj + 1- kk product definition section (pds)</li>
<li>byte kk + 1- ll the data representation section (drs)</li>
<li>byte ll + 1-ll + 6 first 6 bytes of the bit map section (bms)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>Unit of the unblocked GRIB file. Must be opened by <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lskip</td><td>Number of bytes to skip before GRIB message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lgrib</td><td>Number of bytes in GRIB message. When subroutine is called, this must be set to the size of the cbuf buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cbuf</td><td>Pointer to a buffer that will get the index records. If any memory is associated with cbuf when this subroutine is called, cbuf will be nullified in the subroutine. Initially cbuf will get an allocation of 5000 bytes. realloc() will be used to increase the size if necessary. Users must free memory that cbuf points to when cbuf is no longer needed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">numfld</td><td>Number of index records created. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mlen</td><td>Total length of all index records. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>Return code<ul>
<li>0 No error</li>
<li>1 Not enough memory available to hold full index buffer.</li>
<li>2 I/O error in read.</li>
<li>3 GRIB message is not edition 2.</li>
<li>4 Not enough memory to allocate extent to index buffer.</li>
<li>5 Unidentified GRIB section encountered.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Mark Iredell </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1995-10-31 </dd></dl>

<p class="definition">Definition at line <a class="el" href="ixgb2_8F90_source.html#l00055">55</a> of file <a class="el" href="ixgb2_8F90_source.html">ixgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2__gbytesc_8F90_source.html#l00020">g2_gbytec()</a>, and <a class="el" href="g2__gbytesc_8F90_source.html#l00042">g2_sbytec()</a>.</p>

<p class="reference">Referenced by <a class="el" href="getg2ir_8F90_source.html#l00038">getg2ir()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="ixgb2_8F90.html">ixgb2.F90</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
