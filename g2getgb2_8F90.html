<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-g2: g2getgb2.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-g2
   &#160;<span id="projectnumber">3.4.9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('g2getgb2_8F90.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">g2getgb2.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The getgb2 subroutines find and unpack a GRIB2 message in a file.  
<a href="#details">More...</a></p>

<p><a href="g2getgb2_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a4e7aa8984989d124fd1db391de218d5f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2getgb2_8F90.html#a4e7aa8984989d124fd1db391de218d5f">getgb2</a> (lugb, lugi, j, jdisc, jids, jpdtn, jpdt, jgdtn, jgdt, unpack, k, gfld, iret)</td></tr>
<tr class="memdesc:a4e7aa8984989d124fd1db391de218d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a legacy version of <a class="el" href="g2getgb2_8F90.html#a006171a690c4b65e873ce0f3842bac55" title="Find and unpack a GRIB2 message in a file, using an version 1 or 2 index record which is either found...">getgb2i2()</a>.  <a href="g2getgb2_8F90.html#a4e7aa8984989d124fd1db391de218d5f">More...</a><br /></td></tr>
<tr class="separator:a4e7aa8984989d124fd1db391de218d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a006171a690c4b65e873ce0f3842bac55"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2getgb2_8F90.html#a006171a690c4b65e873ce0f3842bac55">getgb2i2</a> (lugb, lugi, j, jdisc, jids, jpdtn, jpdt, jgdtn, jgdt, unpack, idxver, k, gfld, iret)</td></tr>
<tr class="memdesc:a006171a690c4b65e873ce0f3842bac55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find and unpack a GRIB2 message in a file, using an version 1 or 2 index record which is either found in memory, read from an index file, or generated.  <a href="g2getgb2_8F90.html#a006171a690c4b65e873ce0f3842bac55">More...</a><br /></td></tr>
<tr class="separator:a006171a690c4b65e873ce0f3842bac55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf20fcda1c065b6cecfff561390764d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2getgb2_8F90.html#aabf20fcda1c065b6cecfff561390764d">getgb2l</a> (lugb, cindex, gfld, iret)</td></tr>
<tr class="memdesc:aabf20fcda1c065b6cecfff561390764d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and unpack a local use section from a GRIB2 index record (index format 1) and GRIB2 file.  <a href="g2getgb2_8F90.html#aabf20fcda1c065b6cecfff561390764d">More...</a><br /></td></tr>
<tr class="separator:aabf20fcda1c065b6cecfff561390764d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4244e0f687ba5bcb943f8c27b1ef711f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2getgb2_8F90.html#a4244e0f687ba5bcb943f8c27b1ef711f">getgb2l2</a> (lugb, idxver, cindex, gfld, iret)</td></tr>
<tr class="memdesc:a4244e0f687ba5bcb943f8c27b1ef711f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and unpack a local use section from a GRIB2 index record (index format 1 or 2) and GRIB2 file.  <a href="g2getgb2_8F90.html#a4244e0f687ba5bcb943f8c27b1ef711f">More...</a><br /></td></tr>
<tr class="separator:a4244e0f687ba5bcb943f8c27b1ef711f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e5737ef8256ece2482ed5b386007d9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2getgb2_8F90.html#ac1e5737ef8256ece2482ed5b386007d9">getgb2p</a> (lugb, lugi, j, jdisc, jids, jpdtn, jpdt, jgdtn, jgdt, extract, k, gribm, leng, iret)</td></tr>
<tr class="memdesc:ac1e5737ef8256ece2482ed5b386007d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find and extract a GRIB2 message from a file.  <a href="g2getgb2_8F90.html#ac1e5737ef8256ece2482ed5b386007d9">More...</a><br /></td></tr>
<tr class="separator:ac1e5737ef8256ece2482ed5b386007d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe34d74748d23424a5722cf7f133b9c7"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2getgb2_8F90.html#abe34d74748d23424a5722cf7f133b9c7">getgb2r</a> (lugb, cindex, gfld, iret)</td></tr>
<tr class="memdesc:abe34d74748d23424a5722cf7f133b9c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and unpack sections 6 and 7 from a GRIB2 message using a version 1 index record.  <a href="g2getgb2_8F90.html#abe34d74748d23424a5722cf7f133b9c7">More...</a><br /></td></tr>
<tr class="separator:abe34d74748d23424a5722cf7f133b9c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d1f94506ed296f669eae180c59dc6d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2getgb2_8F90.html#a54d1f94506ed296f669eae180c59dc6d">getgb2r2</a> (lugb, idxver, cindex, gfld, iret)</td></tr>
<tr class="memdesc:a54d1f94506ed296f669eae180c59dc6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and unpack sections 6 and 7 from a GRIB2 message using a version 1 or version 2 index record.  <a href="g2getgb2_8F90.html#a54d1f94506ed296f669eae180c59dc6d">More...</a><br /></td></tr>
<tr class="separator:a54d1f94506ed296f669eae180c59dc6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a0a095859c3156b8da88b6fc197a303"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2getgb2_8F90.html#a7a0a095859c3156b8da88b6fc197a303">getgb2rp</a> (lugb, cindex, extract, gribm, leng, iret)</td></tr>
<tr class="memdesc:a7a0a095859c3156b8da88b6fc197a303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a grib message from a file given the index (index format 1) of the requested field.  <a href="g2getgb2_8F90.html#a7a0a095859c3156b8da88b6fc197a303">More...</a><br /></td></tr>
<tr class="separator:a7a0a095859c3156b8da88b6fc197a303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf8c60ecfe8e6807ad3f0e9913d23dde"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2getgb2_8F90.html#aaf8c60ecfe8e6807ad3f0e9913d23dde">getgb2rp2</a> (lugb, idxver, cindex, extract, gribm, leng, iret)</td></tr>
<tr class="memdesc:aaf8c60ecfe8e6807ad3f0e9913d23dde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract a grib message from a file given the version 1 or 2 index of the requested field.  <a href="g2getgb2_8F90.html#aaf8c60ecfe8e6807ad3f0e9913d23dde">More...</a><br /></td></tr>
<tr class="separator:aaf8c60ecfe8e6807ad3f0e9913d23dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The getgb2 subroutines find and unpack a GRIB2 message in a file. </p>
<dl class="section author"><dt>Author</dt><dd>Ed Hartnett </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Mar 6, 2024 </dd></dl>

<p class="definition">Definition in file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a4e7aa8984989d124fd1db391de218d5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7aa8984989d124fd1db391de218d5f">&#9670;&nbsp;</a></span>getgb2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgb2 </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jdisc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>jids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jpdtn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>jpdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jgdtn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>jgdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>unpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">gribfield</a>), intent(out)&#160;</td>
          <td class="paramname"><em>gfld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a legacy version of <a class="el" href="g2getgb2_8F90.html#a006171a690c4b65e873ce0f3842bac55" title="Find and unpack a GRIB2 message in a file, using an version 1 or 2 index record which is either found...">getgb2i2()</a>. </p>
<p>It finds and unpacks a GRIB2 message in a file, using an version 1 index record which is either found in memory, read from an index file, or generated.</p>
<p>Users of this routine must:</p><ol type="1">
<li>include a use <a class="el" href="namespacegrib__mod.html" title="This Fortran module contains the declaration of derived type gribfield.">grib_mod</a></li>
<li>call <a class="el" href="g2gf_8F90.html#a027efd02c99c9464153fc76d9bb9627e" title="Free memory that was used to store array values in derived type grib_mod::gribfield.">gf_free()</a> on the <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a> parameter</li>
<li>free library memory with <a class="el" href="g2index_8F90.html#ac02dafd6109baa69a66dc278d6b0c083" title="Free all memory associated with the library.">gf_finalize()</a></li>
</ol>
<p>For more details, see <a class="el" href="g2getgb2_8F90.html#a006171a690c4b65e873ce0f3842bac55" title="Find and unpack a GRIB2 message in a file, using an version 1 or 2 index record which is either found...">getgb2i2()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>integer unit of the unblocked grib data file. File must be opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this routine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lugi</td><td>integer unit of the unblocked grib index file. If nonzero, file must be opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this routine. lugi may be:<ul>
<li>&gt; 0 read index from index file lugi, if index doesn"t already exist.</li>
<li>= 0 to get index buffer from the grib file, if index doesn"t already exist.</li>
<li>&lt; 0 force reread of index from index file abs(lugi).</li>
<li>= lugb force regeneration of index from GRIB2 file lugb. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">j</td><td>integer number of fields to skip (0 to search from beginning). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jdisc</td><td>GRIB2 discipline number of requested field: &ndash;1 accept any discipline<ul>
<li>0 meteorological products</li>
<li>1 hydrological products</li>
<li>2 land surface products</li>
<li>3 space products</li>
<li>10 oceanographic products </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">JIDS</td><td>integer array of values in the identification section (=-9999 for wildcard). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jpdtn</td><td>integer product definition template number (n) (if = -1, don't bother matching pdt - accept any) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">JPDT</td><td>integer array of values defining the product definition template 4.n of the field for which to search (=-9999 for wildcard) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jgdtn</td><td>integer grid definition template number (m) (if = -1, don't bother matching gdt - accept any ) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">JGDT</td><td>integer array of values defining the grid definition template 3.m of the field for which to search (=-9999 for wildcard) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unpack</td><td>logical value indicating whether to unpack bitmap/data<ul>
<li>.TRUE. unpack bitmap and data values</li>
<li>.FALSE. do not unpack bitmap and data values </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">k</td><td>integer field number unpacked </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gfld</td><td>derived type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>integer return code<ul>
<li>0 all ok</li>
<li>96 error reading index</li>
<li>97 error reading grib file</li>
<li>99 request not found</li>
<li>other gf_getfld grib2 unpacker return code</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Mark Iredell, Ed Hartnett </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-04-01 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2getgb2_8F90_source.html#l00062">62</a> of file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2getgb2_8F90_source.html#l00193">getgb2i2()</a>.</p>

</div>
</div>
<a id="a006171a690c4b65e873ce0f3842bac55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a006171a690c4b65e873ce0f3842bac55">&#9670;&nbsp;</a></span>getgb2i2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgb2i2 </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jdisc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>jids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jpdtn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>jpdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jgdtn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>jgdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>unpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>idxver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">gribfield</a>), intent(out)&#160;</td>
          <td class="paramname"><em>gfld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find and unpack a GRIB2 message in a file, using an version 1 or 2 index record which is either found in memory, read from an index file, or generated. </p>
<p>This subroutine is similar to <a class="el" href="g2getgb2_8F90.html#a4e7aa8984989d124fd1db391de218d5f" title="This is a legacy version of getgb2i2().">getgb2()</a>, but allows the caller to specify the index version of the generated index (if one is generated). Use index version 2 for all new code, as it handles all GRIB2 files, including files &gt; 2 GB. Use index version 1 for backward compatibility, but it does not work past the first 2 GB of the file.</p>
<p>The GRIB field request specifies the number of fields to skip and the unpacked identification section, grid definition template and product defintion section parameters. (A requested parameter of -9999 means to allow any value of this parameter to be found.)</p>
<p>If the requested GRIB field is found, then it is read from the GRIB file and unpacked. Its number is returned along with the associated unpacked parameters. the bitmap (if any); the data values are unpacked only if argument unpack is set to true. If the GRIB field is not found, then the return code will be nonzero.</p>
<p>The decoded information for the selected GRIB field is returned in a derived type variable, gfld, which is of type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. Users of this routine will need to include the line "use grib_mod" in their calling routine.</p>
<p>Derived type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a> contains pointers to many arrays of data. Users must free this memory by calling <a class="el" href="g2gf_8F90.html#a027efd02c99c9464153fc76d9bb9627e" title="Free memory that was used to store array values in derived type grib_mod::gribfield.">gf_free()</a>.</p>
<p>This subroutine calls <a class="el" href="g2index_8F90.html#ab9e12eb8b9f545025f0f0e26e63b7c84" title="Find, read or generate a version 1 or 2 GRIB2 index for a GRIB2 file (which may be &gt; 2 GB).">getidx2()</a>, which allocates memory and stores the resulting pointers in an array that is a Fortran "save" variable. The result is that the memory will not be freed by the library and cannot be reached by the caller. To free this memory call <a class="el" href="g2index_8F90.html#ac02dafd6109baa69a66dc278d6b0c083" title="Free all memory associated with the library.">gf_finalize()</a> after all library operations are complete.</p>
<dl class="section note"><dt>Note</dt><dd>Specify an index file if feasible to increase speed. Do not engage the same logical unit from more than one processor.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>integer unit of the unblocked grib data file. File must be opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this routine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lugi</td><td>integer unit of the unblocked grib index file. If nonzero, file must be opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this routine. lugi may be:<ul>
<li>&gt; 0 read index from index file lugi, if index doesn"t already exist.</li>
<li>= 0 to get index buffer from the grib file, if index doesn"t already exist.</li>
<li>&lt; 0 force reread of index from index file abs(lugi).</li>
<li>= lugb force regeneration of index from GRIB2 file lugb. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">j</td><td>integer number of fields to skip (0 to search from beginning). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jdisc</td><td>GRIB2 discipline number of requested field: &ndash;1 accept any discipline<ul>
<li>0 meteorological products</li>
<li>1 hydrological products</li>
<li>2 land surface products</li>
<li>3 space products</li>
<li>10 oceanographic products </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">JIDS</td><td>integer array of values in the identification section (=-9999 for wildcard)<ul>
<li>JIDS(1) identification of originating centre (see common code table c-1)</li>
<li>JIDS(2) identification of originating sub-centre</li>
<li>JIDS(3) grib master tables version number (see code table 1.0) 0 experimental;1 initial operational version number.</li>
<li>JIDS(4) grib local tables version number (see code table 1.1) 0 local tables not used; 1-254 number of local tables version used.</li>
<li>JIDS(5) significance of reference time (code table 1.2) 0 analysis; 1 start of forecast; 2 verifying time of forecast; 3 observation time</li>
<li>JIDS(6) year (4 digits)</li>
<li>JIDS(7) month</li>
<li>JIDS(8) day</li>
<li>JIDS(9) hour</li>
<li>JIDS(10) minute</li>
<li>JIDS(11) second</li>
<li>JIDS(12) production status of processed data (see code table 1.3) 0 operational products; 1 operational test products; 2 research products; 3 re-analysis products.</li>
<li>JIDS(13) type of processed data (see code table 1.4) 0 analysis products; 1 forecast products; 2 analysis and forecast products; 3 control forecast products; 4 perturbed forecast products; 5 control and perturbed forecast products; 6 processed satellite observations; 7 processed radar observations. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jpdtn</td><td>integer product definition template number (n) (if = -1, don't bother matching pdt - accept any) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">JPDT</td><td>integer array of values defining the product definition template 4.n of the field for which to search (=-9999 for wildcard) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jgdtn</td><td>integer grid definition template number (m) (if = -1, don't bother matching gdt - accept any ) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">JGDT</td><td>integer array of values defining the grid definition template 3.m of the field for which to search (=-9999 for wildcard) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unpack</td><td>logical value indicating whether to unpack bitmap/data<ul>
<li>.TRUE. unpack bitmap and data values</li>
<li>.FALSE. do not unpack bitmap and data values </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idxver</td><td>Index version of the cindex buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">k</td><td>integer field number unpacked </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gfld</td><td>derived type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>integer return code<ul>
<li>0 all ok</li>
<li>96 error reading index</li>
<li>97 error reading grib file</li>
<li>99 request not found</li>
<li>other gf_getfld grib2 unpacker return code</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Ed Hartnett </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024-03-19 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2getgb2_8F90_source.html#l00191">191</a> of file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2getgb2_8F90_source.html#l00351">getgb2l2()</a>, <a class="el" href="g2getgb2_8F90_source.html#l00677">getgb2r2()</a>, <a class="el" href="g2index_8F90_source.html#l00899">getgb2s2()</a>, <a class="el" href="g2index_8F90_source.html#l00266">getidx2()</a>, and <a class="el" href="g2gf_8F90_source.html#l00585">gf_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2getgb2_8F90_source.html#l00064">getgb2()</a>.</p>

</div>
</div>
<a id="aabf20fcda1c065b6cecfff561390764d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabf20fcda1c065b6cecfff561390764d">&#9670;&nbsp;</a></span>getgb2l()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgb2l </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len = 1), dimension(*), intent(in)&#160;</td>
          <td class="paramname"><em>cindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">gribfield</a>)&#160;</td>
          <td class="paramname"><em>gfld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and unpack a local use section from a GRIB2 index record (index format 1) and GRIB2 file. </p>
<p>This subprogram is intended for private use by <a class="el" href="g2getgb2_8F90.html#a4e7aa8984989d124fd1db391de218d5f" title="This is a legacy version of getgb2i2().">getgb2()</a> routine only.</p>
<p>Note that derived type gribfield contains pointers to many arrays of data. Users must free this memory with <a class="el" href="g2gf_8F90.html#a027efd02c99c9464153fc76d9bb9627e" title="Free memory that was used to store array values in derived type grib_mod::gribfield.">gf_free()</a>.</p>
<p>This subroutine supports only index format 1, which will not work for files &gt; 2 GB. New code should use <a class="el" href="g2getgb2_8F90.html#a4244e0f687ba5bcb943f8c27b1ef711f" title="Read and unpack a local use section from a GRIB2 index record (index format 1 or 2) and GRIB2 file.">getgb2l2()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>integer unit of the unblocked grib data file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cindex</td><td>index record of the grib field (see <a class="el" href="g2index_8F90.html#a1b60285d6eae6ecb9cd4b887b70388c7" title="Generate a version 1 or 2 index record for each field in a GRIB2 message.">ix2gb2()</a> for description of an index record.) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gfld</td><td>derived type gribfield <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>integer return code<ul>
<li>0 all ok</li>
<li>97 error reading grib file</li>
<li>other gf_getfld grib2 unpacker return code</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-05-07 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2getgb2_8F90_source.html#l00302">302</a> of file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2getgb2_8F90_source.html#l00351">getgb2l2()</a>.</p>

</div>
</div>
<a id="a4244e0f687ba5bcb943f8c27b1ef711f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4244e0f687ba5bcb943f8c27b1ef711f">&#9670;&nbsp;</a></span>getgb2l2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgb2l2 </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>idxver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len = 1), dimension(*), intent(in)&#160;</td>
          <td class="paramname"><em>cindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">gribfield</a>)&#160;</td>
          <td class="paramname"><em>gfld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and unpack a local use section from a GRIB2 index record (index format 1 or 2) and GRIB2 file. </p>
<p>This subroutine decodes information for the selected GRIB2 field and returns it in a derived type variable, gfld. gfld is of type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. Users of this routine will need to include the line "use grib_mod" in their calling routine.</p>
<p>This subprogram is intended for private use by <a class="el" href="g2getgb2_8F90.html#a4e7aa8984989d124fd1db391de218d5f" title="This is a legacy version of getgb2i2().">getgb2()</a> routine only.</p>
<p>Note that derived type gribfield contains pointers to many arrays of data. Users must free this memory with <a class="el" href="g2gf_8F90.html#a027efd02c99c9464153fc76d9bb9627e" title="Free memory that was used to store array values in derived type grib_mod::gribfield.">gf_free()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>integer unit of the unblocked grib data file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idxver</td><td>Index version of the cindex buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cindex</td><td>index record of the grib field (see <a class="el" href="g2index_8F90.html#a1b60285d6eae6ecb9cd4b887b70388c7" title="Generate a version 1 or 2 index record for each field in a GRIB2 message.">ix2gb2()</a> for description of an index record.) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gfld</td><td>derived type gribfield <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>integer return code<ul>
<li>0 all ok</li>
<li>97 error reading grib file</li>
<li>other gf_getfld grib2 unpacker return code</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-05-07 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2getgb2_8F90_source.html#l00350">350</a> of file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2bytes_8F90_source.html#l00021">g2_gbytec()</a>, <a class="el" href="g2bytes_8F90_source.html#l00152">g2_gbytec8()</a>, and <a class="el" href="g2unpack_8F90_source.html#l00100">gf_unpack2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2getgb2_8F90_source.html#l00193">getgb2i2()</a>, and <a class="el" href="g2getgb2_8F90_source.html#l00303">getgb2l()</a>.</p>

</div>
</div>
<a id="ac1e5737ef8256ece2482ed5b386007d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e5737ef8256ece2482ed5b386007d9">&#9670;&nbsp;</a></span>getgb2p()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgb2p </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jdisc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>jids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jpdtn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>jpdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>jgdtn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*)&#160;</td>
          <td class="paramname"><em>jgdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>extract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len = 1), dimension(:), pointer&#160;</td>
          <td class="paramname"><em>gribm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>leng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find and extract a GRIB2 message from a file. </p>
<p>This subroutine reads a GRIB index file (or optionally the GRIB file itself) to get the index buffer (i.e. table of contents) for the GRIB file. It finds in the index buffer a reference to the GRIB field requested.</p>
<p>The GRIB field request specifies the number of fields to skip and the unpacked identification section, grid definition template and product defintion section parameters. (A requested parameter of -9999 means to allow any value of this parameter to be found.)</p>
<p>If the requested GRIB field is found, then it is read from the GRIB file and unpacked. If the GRIB field is not found, then the return code will be nonzero.</p>
<p>The derived type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a> contains allocated memory that must be freed by the caller with subroutine <a class="el" href="g2gf_8F90.html#a027efd02c99c9464153fc76d9bb9627e" title="Free memory that was used to store array values in derived type grib_mod::gribfield.">gf_free()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Specifing an index file may increase speed. Do not engage the same logical unit from more than one processor.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>Unit of the unblocked GRIB data file. The file must have been opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this routine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lugi</td><td>Unit of the unblocked GRIB index file. If nonzero, file must have been opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this subroutine. Set to 0 to get index buffer from the GRIB file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">j</td><td>Number of fields to skip (set to 0 to search from beginning). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jdisc</td><td>GRIB2 discipline number of requested field. See <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table0-0.shtml">GRIB2 - TABLE 0.0 - DISCIPLINE</a>. Use -1 to accept any discipline. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jids</td><td>Array of values in the identification section. (Set to -9999 for wildcard.)<ul>
<li>jids(1) Identification of originating centre. See [TABLE 0 - NATIONAL/INTERNATIONAL ORIGINATING CENTERS](<a href="https://www.nco.ncep.noaa.gov/pmb/docs/on388/table0.html">https://www.nco.ncep.noaa.gov/pmb/docs/on388/table0.html</a>).</li>
<li>jids(2) Identification of originating sub-centre. See [TABLE C - NATIONAL SUB-CENTERS](<a href="https://www.nco.ncep.noaa.gov/pmb/docs/on388/tablec.html">https://www.nco.ncep.noaa.gov/pmb/docs/on388/tablec.html</a>).</li>
<li>jids(3) GRIB master tables version number. See [GRIB2 - TABLE 1.0<ul>
<li>GRIB Master Tables Version Number](<a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-0.shtml">https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-0.shtml</a>).</li>
</ul>
</li>
<li>jids(4) GRIB local tables version number. See [GRIB2 - TABLE 1.1<ul>
<li>GRIB Local Tables Version Number](<a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-1.shtml">https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-1.shtml</a>).</li>
</ul>
</li>
<li>jids(5) Significance of reference time. See [GRIB2 - TABLE 1.2 - Significance of Reference Time](<a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-2.shtml">https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-2.shtml</a>).</li>
<li>jids(6) year (4 digits)</li>
<li>jids(7) month</li>
<li>jids(8) day</li>
<li>jids(9) hour</li>
<li>jids(10) minute</li>
<li>jids(11) second</li>
<li>jids(12) Production status of processed data. See [GRIB2 - TABLE 1.3 - Production Status of Data](<a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-3.shtml">https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-3.shtml</a>).</li>
<li>jids(13) Type of processed data. See <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-4.shtml">GRIB2 - TABLE 1.4 - TYPE OF DATA</a>. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jpdtn</td><td>Product Definition Template (PDT) number (n) (if = -1, don't bother matching PDT - accept any) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jpdt</td><td>Array of values defining the Product Definition Template of the field for which to search (=-9999 for wildcard). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jgdtn</td><td>Grid Definition Template (GDT) number (if = -1, don't bother matching GDT - accept any). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jgdt</td><td>array of values defining the Grid Definition Template of the field for which to search (=-9999 for wildcard). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">extract</td><td>value indicating whether to return a GRIB2 message with just the requested field, or the entire GRIB2 message containing the requested field.<ul>
<li>.true. return GRIB2 message containing only the requested field.</li>
<li>.false. return entire GRIB2 message containing the requested field. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">k</td><td>field number unpacked. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gribm</td><td>returned GRIB message. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">leng</td><td>length of returned GRIB message in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>integer return code<ul>
<li>0 No error.</li>
<li>96 Error reading index.</li>
<li>97 Error reading GRIB file.</li>
<li>99 Request not found.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Mark Iredell </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-04-01 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2getgb2_8F90_source.html#l00510">510</a> of file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2index_8F90_source.html#l00422">getg2i()</a>, <a class="el" href="g2index_8F90_source.html#l00566">getg2ir()</a>, <a class="el" href="g2getgb2_8F90_source.html#l00843">getgb2rp()</a>, <a class="el" href="g2index_8F90_source.html#l00786">getgb2s()</a>, and <a class="el" href="g2gf_8F90_source.html#l00585">gf_free()</a>.</p>

</div>
</div>
<a id="abe34d74748d23424a5722cf7f133b9c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe34d74748d23424a5722cf7f133b9c7">&#9670;&nbsp;</a></span>getgb2r()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgb2r </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=1), dimension(*), intent(in)&#160;</td>
          <td class="paramname"><em>cindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">gribfield</a>)&#160;</td>
          <td class="paramname"><em>gfld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and unpack sections 6 and 7 from a GRIB2 message using a version 1 index record. </p>
<p>This function is maintained for backward compatibility. New code should use <a class="el" href="g2getgb2_8F90.html#a54d1f94506ed296f669eae180c59dc6d" title="Read and unpack sections 6 and 7 from a GRIB2 message using a version 1 or version 2 index record.">getgb2r2()</a>, which can handle both version 1 and version 2 index records.</p>
<p>Metadata for the field must already exists in derived type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. Specifically, it requires gfld%ibmap, gfld%ngrdpts, gfld%idrtnum, gfld%idrtmpl, and gfld%ndpts.</p>
<p>The field data is returned in derived type variable, gfld, of type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. Users of this routine will need to include the line "use grib_mod" in their calling routine.</p>
<p>This subprogram is intended for private use by <a class="el" href="g2getgb2_8F90.html#a4e7aa8984989d124fd1db391de218d5f" title="This is a legacy version of getgb2i2().">getgb2()</a> routines only.</p>
<p>Derived type gribfield contains pointers to many arrays of data. Users must free this memory by calling <a class="el" href="g2gf_8F90.html#a027efd02c99c9464153fc76d9bb9627e" title="Free memory that was used to store array values in derived type grib_mod::gribfield.">gf_free()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>integer unit of the unblocked grib data file. File must be opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this routine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cindex</td><td>version 1 index record of the field (see subroutine <a class="el" href="g2index_8F90.html#a1b60285d6eae6ecb9cd4b887b70388c7" title="Generate a version 1 or 2 index record for each field in a GRIB2 message.">ix2gb2()</a> for description of an index record.) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gfld</td><td>derived type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>Return code:<ul>
<li>0 all ok</li>
<li>97 error reading grib file</li>
<li>other gf_getfld grib2 unpacker return code</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert, Ed Hartnett </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-01-11 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2getgb2_8F90_source.html#l00617">617</a> of file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2getgb2_8F90_source.html#l00677">getgb2r2()</a>.</p>

</div>
</div>
<a id="a54d1f94506ed296f669eae180c59dc6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d1f94506ed296f669eae180c59dc6d">&#9670;&nbsp;</a></span>getgb2r2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgb2r2 </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>idxver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=1), dimension(*), intent(in)&#160;</td>
          <td class="paramname"><em>cindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">gribfield</a>)&#160;</td>
          <td class="paramname"><em>gfld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and unpack sections 6 and 7 from a GRIB2 message using a version 1 or version 2 index record. </p>
<p>Metadata for the field must already exists in derived type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. Specifically, it requires gfld%ibmap, gfld%ngrdpts, gfld%idrtnum, gfld%idrtmpl, and gfld%ndpts.</p>
<p>The field data is returned in derived type variable, gfld, of type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. Users of this routine will need to include the line "use grib_mod" in their calling routine.</p>
<p>This subprogram is intended for private use by <a class="el" href="g2getgb2_8F90.html#a4e7aa8984989d124fd1db391de218d5f" title="This is a legacy version of getgb2i2().">getgb2()</a> routines only.</p>
<p>Derived type gribfield contains pointers to many arrays of data. Users must free this memory by calling <a class="el" href="g2gf_8F90.html#a027efd02c99c9464153fc76d9bb9627e" title="Free memory that was used to store array values in derived type grib_mod::gribfield.">gf_free()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Do not engage the same logical unit from more than one processor.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>integer unit of the unblocked grib data file. File must be opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this routine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idxver</td><td>Index version, 1 for legacy, 2 if file may be &gt; 2 GB. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cindex</td><td>version 1 or 2 index record of the grib field (see subroutine <a class="el" href="g2index_8F90.html#aafeb30e8a8c7d03742f733a34846a6b1" title="Generate a version 1 index record for each field in a GRIB2 message.">ixgb2()</a> for description of an index record.) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gfld</td><td>derived type <a class="el" href="namespacegrib__mod.html#structgrib__mod_1_1gribfield">grib_mod::gribfield</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>Return code:<ul>
<li>0 all ok</li>
<li>97 error reading grib file</li>
<li>other gf_getfld grib2 unpacker return code</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Ed Hartnett, Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Feb 14, 2024 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2getgb2_8F90_source.html#l00676">676</a> of file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2bytes_8F90_source.html#l00021">g2_gbytec()</a>, <a class="el" href="g2bytes_8F90_source.html#l00152">g2_gbytec8()</a>, <a class="el" href="g2unpack_8F90_source.html#l00576">gf_unpack6()</a>, and <a class="el" href="g2unpack_8F90_source.html#l00650">gf_unpack7()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2getgb2_8F90_source.html#l00193">getgb2i2()</a>, and <a class="el" href="g2getgb2_8F90_source.html#l00618">getgb2r()</a>.</p>

</div>
</div>
<a id="a7a0a095859c3156b8da88b6fc197a303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a0a095859c3156b8da88b6fc197a303">&#9670;&nbsp;</a></span>getgb2rp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgb2rp </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len = 1), dimension(*), intent(in)&#160;</td>
          <td class="paramname"><em>cindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>extract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len = 1), dimension(:), pointer&#160;</td>
          <td class="paramname"><em>gribm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>leng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract a grib message from a file given the index (index format 1) of the requested field. </p>
<p>This subroutine is maintained for backward compatibility. New code should use <a class="el" href="g2getgb2_8F90.html#aaf8c60ecfe8e6807ad3f0e9913d23dde" title="Extract a grib message from a file given the version 1 or 2 index of the requested field.">getgb2rp2()</a>.</p>
<p>The GRIB message returned can contain only the requested field (extract=.true.), or the complete GRIB message originally containing the desired field can be returned (extract=.false.) even if other fields were included in the GRIB message.</p>
<p>If the GRIB field is not found, then the return code will be nonzero.</p>
<dl class="section note"><dt>Note</dt><dd>For files greater than 2 GB, this subroutine will only work if the message is within the first 2 GB of the file.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>integer unit of the unblocked grib data file. file must be opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this routine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cindex</td><td>Index record of the grib field (see docunentation of subroutine <a class="el" href="g2index_8F90.html#a1b60285d6eae6ecb9cd4b887b70388c7" title="Generate a version 1 or 2 index record for each field in a GRIB2 message.">ix2gb2()</a> for description of an index record.) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">extract</td><td>Logical value indicating whether to return a GRIB2 message with just the requested field, or the entire GRIB2 message containing the requested field.<ul>
<li>.true. = return grib2 message containing only the requested field.</li>
<li>.false. = return entire grib2 message containing the requested field. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gribm</td><td>Returned grib message. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">leng</td><td>Length of returned grib message in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>Return code:<ul>
<li>0 No error.</li>
<li>97 Error reading grib file.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert, Ed Hartnett </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-12-31 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2getgb2_8F90_source.html#l00842">842</a> of file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2getgb2_8F90_source.html#l00897">getgb2rp2()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2getgb2_8F90_source.html#l00512">getgb2p()</a>.</p>

</div>
</div>
<a id="aaf8c60ecfe8e6807ad3f0e9913d23dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf8c60ecfe8e6807ad3f0e9913d23dde">&#9670;&nbsp;</a></span>getgb2rp2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getgb2rp2 </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lugb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>idxver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len = 1), dimension(*), intent(in)&#160;</td>
          <td class="paramname"><em>cindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>extract</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len = 1), dimension(:), pointer&#160;</td>
          <td class="paramname"><em>gribm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>leng</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract a grib message from a file given the version 1 or 2 index of the requested field. </p>
<p>The GRIB message returned can contain only the requested field (extract=.true.), or the complete GRIB message originally containing the desired field can be returned (extract=.false.) even if other fields were included in the GRIB message.</p>
<p>If the GRIB field is not found, then the return code will be nonzero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lugb</td><td>integer unit of the unblocked grib data file. file must be opened with <a href="https://noaa-emc.github.io/NCEPLIBS-bacio/">baopen() or baopenr()</a> before calling this routine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idxver</td><td>Version of index, use 1 for legacy, 2 if files may be &gt; 2 GB. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cindex</td><td>Index record of the grib field (see docunentation of subroutine <a class="el" href="g2index_8F90.html#aafeb30e8a8c7d03742f733a34846a6b1" title="Generate a version 1 index record for each field in a GRIB2 message.">ixgb2()</a> for description of an index record.) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">extract</td><td>Logical value indicating whether to return a GRIB2 message with just the requested field, or the entire GRIB2 message containing the requested field.<ul>
<li>.true. = return grib2 message containing only the requested field.</li>
<li>.false. = return entire grib2 message containing the requested field. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gribm</td><td>Returned grib message. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">leng</td><td>Length of returned grib message in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">iret</td><td>Return code:<ul>
<li>0 No error.</li>
<li>97 Error reading grib file.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Edward Hartnett, Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Feb 13, 2024 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2getgb2_8F90_source.html#l00896">896</a> of file <a class="el" href="g2getgb2_8F90_source.html">g2getgb2.F90</a>.</p>

<p class="reference">References <a class="el" href="g2bytes_8F90_source.html#l00021">g2_gbytec()</a>, <a class="el" href="g2bytes_8F90_source.html#l00152">g2_gbytec8()</a>, and <a class="el" href="g2bytes_8F90_source.html#l00238">g2_sbytec()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2getgb2_8F90_source.html#l00843">getgb2rp()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="g2getgb2_8F90.html">g2getgb2.F90</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
