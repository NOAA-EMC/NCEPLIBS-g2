<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-g2: getfield.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-g2
   &#160;<span id="projectnumber">3.4.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('getfield_8F90.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">getfield.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains subroutines obtain grid information and the unpacked data (section 3 - 6) for a field from a GRIB2 file.  
<a href="#details">More...</a></p>

<p><a href="getfield_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a4bffc7bcc5d802447811c5a703c1ddfb"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getfield_8F90.html#a4bffc7bcc5d802447811c5a703c1ddfb">getfield</a> (cgrib, lcgrib, ifldnum, igds, igdstmpl, igdslen, ideflist, idefnum, ipdsnum, ipdstmpl, ipdslen, coordlist, numcoord, ndpts, idrsnum, idrstmpl, idrslen, ibmap, bmap, fld, ierr)</td></tr>
<tr class="memdesc:a4bffc7bcc5d802447811c5a703c1ddfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine returns the Grid Definition, Product Definition, Bit-map (if applicable), and the unpacked data for a given data field.  <a href="getfield_8F90.html#a4bffc7bcc5d802447811c5a703c1ddfb">More...</a><br /></td></tr>
<tr class="separator:a4bffc7bcc5d802447811c5a703c1ddfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af276fba8f97f4e440a2466415ee3b0"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getfield_8F90.html#a9af276fba8f97f4e440a2466415ee3b0">unpack3</a> (cgrib, lcgrib, iofst, igds, igdstmpl, mapgridlen, ideflist, idefnum, ierr)</td></tr>
<tr class="memdesc:a9af276fba8f97f4e440a2466415ee3b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks Section 3 (Grid Definition Section) starting at octet 6 of that Section.  <a href="getfield_8F90.html#a9af276fba8f97f4e440a2466415ee3b0">More...</a><br /></td></tr>
<tr class="separator:a9af276fba8f97f4e440a2466415ee3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e1332ed52099a0dd9d86f9b15800291"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getfield_8F90.html#a7e1332ed52099a0dd9d86f9b15800291">unpack4</a> (cgrib, lcgrib, iofst, ipdsnum, ipdstmpl, mappdslen, coordlist, numcoord, ierr)</td></tr>
<tr class="memdesc:a7e1332ed52099a0dd9d86f9b15800291"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks Section 4 (Product Definition Section) starting at octet 6 of that Section.  <a href="getfield_8F90.html#a7e1332ed52099a0dd9d86f9b15800291">More...</a><br /></td></tr>
<tr class="separator:a7e1332ed52099a0dd9d86f9b15800291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc218072eac5cf308be17654963fda7"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getfield_8F90.html#adcc218072eac5cf308be17654963fda7">unpack5</a> (cgrib, lcgrib, iofst, ndpts, idrsnum, idrstmpl, mapdrslen, ierr)</td></tr>
<tr class="memdesc:adcc218072eac5cf308be17654963fda7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks Section 5 (Data Representation Section) starting at octet 6 of that Section.  <a href="getfield_8F90.html#adcc218072eac5cf308be17654963fda7">More...</a><br /></td></tr>
<tr class="separator:adcc218072eac5cf308be17654963fda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a590da8a72857e7c0d51c62b64a1bf"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="getfield_8F90.html#a75a590da8a72857e7c0d51c62b64a1bf">unpack6</a> (cgrib, lcgrib, iofst, ngpts, ibmap, bmap, ierr)</td></tr>
<tr class="memdesc:a75a590da8a72857e7c0d51c62b64a1bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks Section 6 (Bit-Map Section) starting at octet 6 of that Section.  <a href="getfield_8F90.html#a75a590da8a72857e7c0d51c62b64a1bf">More...</a><br /></td></tr>
<tr class="separator:a75a590da8a72857e7c0d51c62b64a1bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains subroutines obtain grid information and the unpacked data (section 3 - 6) for a field from a GRIB2 file. </p>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-05-26 </dd></dl>

<p class="definition">Definition in file <a class="el" href="getfield_8F90_source.html">getfield.F90</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a4bffc7bcc5d802447811c5a703c1ddfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bffc7bcc5d802447811c5a703c1ddfb">&#9670;&nbsp;</a></span>getfield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine getfield </td>
          <td>(</td>
          <td class="paramtype">character(len = 1), dimension(lcgrib), intent(in)&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lcgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ifldnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>igds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>igdstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>igdslen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>ideflist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>idefnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ipdsnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>ipdstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ipdslen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>coordlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>numcoord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ndpts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>idrsnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>idrslen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ibmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical*1, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine returns the Grid Definition, Product Definition, Bit-map (if applicable), and the unpacked data for a given data field. </p>
<p>Since there can be multiple data fields packed into a GRIB2 message, the calling routine indicates which field is being requested with the ifldnum argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgrib</td><td>Character array that contains the GRIB2 message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lcgrib</td><td>Length (in bytes) of GRIB message array cgrib. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ifldnum</td><td>Specifies which field in the GRIB2 message to return. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">igds</td><td>Contains information read from the appropriate GRIB Grid Definition Section 3 for the field being returned. Must be dimensioned &gt;= 5.<ul>
<li>igds(1) Source of grid definition (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-0.shtml">Code Table 3.0</a>).</li>
<li>igds(2) Number of grid points in the defined grid.</li>
<li>igds(3) Number of octets needed for each additional grid points definition. Used to define number of points in each row (or column) for non-regular grids. = 0, if using regular grid.</li>
<li>igds(4) Interpretation of list for optional points definition (<a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-11.shtml">Code Table 3.11</a>).</li>
<li>igds(5) Grid Definition Template Number (<a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-1.shtml">Code Table 3.1</a>). </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">igdstmpl</td><td>Contains the data values for the specified Grid Definition Template (NN=igds(5)). Each element of this integer array contains an entry (in the order specified) of Grid Defintion Template 3.NN. A safe dimension for this array can be obtained in advance from maxvals(2), which is returned from subroutine <a class="el" href="gribinfo_8F90.html#ae9618753df7171d5206b10bccc65232e" title="Find the number of Local Use Sections and gridded fields in a GRIB2 message, and the maximum sizes of...">gribinfo()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">igdslen</td><td>Number of elements in igdstmpl. i.e. number of entries in Grid Defintion Template 3.NN (NN=igds(5)). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ideflist</td><td>(Used if igds(3) .ne. 0) This array contains the number of grid points contained in each row (or column). (part of Section 3) A safe dimension for this array can be obtained in advance from maxvals(3), which is returned from subroutine <a class="el" href="gribinfo_8F90.html#ae9618753df7171d5206b10bccc65232e" title="Find the number of Local Use Sections and gridded fields in a GRIB2 message, and the maximum sizes of...">gribinfo()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idefnum</td><td>(Used if igds(3) .ne. 0) The number of entries in array ideflist - i.e. number of rows (or columns) for which optional grid points are defined. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ipdsnum</td><td>Product Definition Template Number (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-0.shtml">Code Table 4.0</a>). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ipdstmpl</td><td>Contains the data values for the specified Product Definition Template (N=ipdsnum). Each element of this integer array contains an entry (in the order specified) of Product Defintion Template 4.N. A safe dimension for this array can be obtained in advance from maxvals(4), which is returned from subroutine <a class="el" href="gribinfo_8F90.html#ae9618753df7171d5206b10bccc65232e" title="Find the number of Local Use Sections and gridded fields in a GRIB2 message, and the maximum sizes of...">gribinfo()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ipdslen</td><td>Number of elements in ipdstmpl - i.e. number of entries in Product Defintion Template 4.N (N=ipdsnum). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">coordlist</td><td>Array containg floating point values intended to document the vertical discretisation associated to model data on hybrid coordinate vertical levels (part of Section 4). The dimension of this array can be obtained in advance from maxvals(5), which is returned from subroutine <a class="el" href="gribinfo_8F90.html#ae9618753df7171d5206b10bccc65232e" title="Find the number of Local Use Sections and gridded fields in a GRIB2 message, and the maximum sizes of...">gribinfo()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">numcoord</td><td>number of values in array coordlist. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ndpts</td><td>Number of data points unpacked and returned. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idrsnum</td><td>Data Representation Template Number (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table5-0.shtml">Code Table 5.0</a>). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idrstmpl</td><td>Contains the data values for the specified Data Representation Template (N=idrsnum). Each element of this integer array contains an entry (in the order specified) of Product Defintion Template 5.N A safe dimension for this array can be obtained in advance from maxvals(6), which is returned from subroutine <a class="el" href="gribinfo_8F90.html#ae9618753df7171d5206b10bccc65232e" title="Find the number of Local Use Sections and gridded fields in a GRIB2 message, and the maximum sizes of...">gribinfo()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idrslen</td><td>Number of elements in idrstmpl. i.e. number of entries in Data Representation Template specified by idrsnum. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ibmap</td><td>Bitmap indicator (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table6-0.shtml">Code Table 6.0</a>).<ul>
<li>0 bitmap applies and is included in Section 6.</li>
<li>1-253 Predefined bitmap applies.</li>
<li>254 Previously defined bitmap applies to this field.</li>
<li>255 Bit map does not apply to this product. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bmap</td><td>Logical*1 array containing decoded bitmap (if ibmap=0). The dimension of this array can be obtained in advance from maxvals(7), which is returned from subroutine <a class="el" href="gribinfo_8F90.html#ae9618753df7171d5206b10bccc65232e" title="Find the number of Local Use Sections and gridded fields in a GRIB2 message, and the maximum sizes of...">gribinfo()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fld</td><td>Array of ndpts unpacked data points. A safe dimension for this array can be obtained in advance from maxvals(7), which is returned from subroutine <a class="el" href="gribinfo_8F90.html#ae9618753df7171d5206b10bccc65232e" title="Find the number of Local Use Sections and gridded fields in a GRIB2 message, and the maximum sizes of...">gribinfo()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error return code.<ul>
<li>0 no error.</li>
<li>1 Beginning characters "GRIB" not found.</li>
<li>2 GRIB message is not Edition 2.</li>
<li>3 The data field request number was not positive.</li>
<li>4 End string "7777" found, but not where expected.</li>
<li>6 GRIB message did not contain the requested number of data fields.</li>
<li>7 End string "7777" not found at end of message.</li>
<li>9 Data Representation Template 5.NN not yet implemented.</li>
<li>10 Error unpacking Section 3.</li>
<li>11 Error unpacking Section 4.</li>
<li>12 Error unpacking Section 5.</li>
<li>13 Error unpacking Section 6.</li>
<li>14 Error unpacking Section 7.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Note that subroutine gribinfo can be used to first determine how many data fields exist in a given GRIB message.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-05-26 </dd></dl>

<p class="definition">Definition at line <a class="el" href="getfield_8F90_source.html#l00106">106</a> of file <a class="el" href="getfield_8F90_source.html">getfield.F90</a>.</p>

<p class="reference">References <a class="el" href="comunpack_8f_source.html#l00033">comunpack()</a>, <a class="el" href="g2__gbytesc_8F90_source.html#l00020">g2_gbytec()</a>, <a class="el" href="jpcunpack_8F90_source.html#l00020">jpcunpack()</a>, <a class="el" href="pngunpack_8F90_source.html#l00020">pngunpack()</a>, <a class="el" href="rdieee_8F90_source.html#l00016">rdieee()</a>, <a class="el" href="simunpack_8F90_source.html#l00019">simunpack()</a>, <a class="el" href="getfield_8F90_source.html#l00376">unpack3()</a>, <a class="el" href="getfield_8F90_source.html#l00506">unpack4()</a>, <a class="el" href="getfield_8F90_source.html#l00615">unpack5()</a>, and <a class="el" href="getfield_8F90_source.html#l00710">unpack6()</a>.</p>

</div>
</div>
<a id="a9af276fba8f97f4e440a2466415ee3b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af276fba8f97f4e440a2466415ee3b0">&#9670;&nbsp;</a></span>unpack3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine unpack3 </td>
          <td>(</td>
          <td class="paramtype">character(len = 1), dimension(lcgrib), intent(in)&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lcgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>igds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>igdstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>mapgridlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>ideflist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>idefnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks Section 3 (Grid Definition Section) starting at octet 6 of that Section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgrib</td><td>Character array that contains the GRIB2 message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lcgrib</td><td>Length (in bytes) of GRIB message array cgrib. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">iofst</td><td>Bit offset of the beginning (in) or the end (out) of Section 3. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">igds</td><td>Contains information read from the appropriate GRIB Grid Definition Section 3 for the field being returned. Must be dimensioned &gt;= 5.<ul>
<li>igds(1) Source of grid definition (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-0.shtml">Code Table - 3.0</a>)<ul>
<li>igds(2) Number of grid points in the defined grid.</li>
<li>igds(3) Number of octets needed for each additional grid points definition. Used to define number of points in each row (or column) for non-regular grids. = 0, if using regular grid.</li>
<li>igds(4) Interpretation of list for optional points definition. (<a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-11.shtml">Code Table 3.11</a>).</li>
<li>igds(5) Grid Definition Template Number (<a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-1.shtml">Code Table 3.1</a>). </li>
</ul>
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">igdstmpl</td><td>Contains the data values for the specified Grid Definition Template (NN=igds(5)). Each element of this integer array contains an entry (in the order specified) of Grid Defintion Template 3.NN. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mapgridlen</td><td>Number of elements in igdstmpl - i.e. number of entries in Grid Defintion Template 3.NN (NN=igds(5)). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ideflist</td><td>(Used if igds(3) .ne. 0). This array contains the number of grid points contained in each row (or column) (part of Section 3). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idefnum</td><td>(Used if igds(3) .ne. 0). The number of entries in array ideflist - i.e. number of rows (or columns) for which optional grid points are defined. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error return code.<ul>
<li>0 no error.</li>
<li>5 "GRIB" message contains an undefined Grid Definition Template.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-05-26 </dd></dl>

<p class="definition">Definition at line <a class="el" href="getfield_8F90_source.html#l00374">374</a> of file <a class="el" href="getfield_8F90_source.html">getfield.F90</a>.</p>

<p class="reference">References <a class="el" href="gridtemplates_8F90_source.html#l00333">gridtemplates::extgridtemplate()</a>, <a class="el" href="g2__gbytesc_8F90_source.html#l00020">g2_gbytec()</a>, <a class="el" href="g2__gbytesc_8F90_source.html#l00063">g2_gbytesc()</a>, and <a class="el" href="gridtemplates_8F90_source.html#l00292">gridtemplates::getgridtemplate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="getfield_8F90_source.html#l00110">getfield()</a>, and <a class="el" href="gettemplates_8F90_source.html#l00068">gettemplates()</a>.</p>

</div>
</div>
<a id="a7e1332ed52099a0dd9d86f9b15800291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e1332ed52099a0dd9d86f9b15800291">&#9670;&nbsp;</a></span>unpack4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine unpack4 </td>
          <td>(</td>
          <td class="paramtype">character(len = 1), dimension(lcgrib), intent(in)&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lcgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ipdsnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>ipdstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>mappdslen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>coordlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>numcoord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks Section 4 (Product Definition Section) starting at octet 6 of that Section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgrib</td><td>Character array that contains the GRIB2 message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lcgrib</td><td>Length (in bytes) of GRIB message array cgrib. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">iofst</td><td>Bit offset of the beginning (in) or the end (out) of Section 4. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ipdsnum</td><td>Product Definition Template Number (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-0.shtml">Code Table 4.0</a>). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ipdstmpl</td><td>Contains the data values for the specified Product Definition Template (N=ipdsnum). Each element of this integer array contains an entry (in the order specified) of Product Defintion Template 4.N. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mappdslen</td><td>Number of elements in ipdstmpl. i.e. number of entries in Product Defintion Template 4.N (N=ipdsnum). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">coordlist-</td><td>Array containg floating point values intended to document the vertical discretisation associated to model data on hybrid coordinate vertical levels (part of Section 4). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">numcoord</td><td>number of values in array coordlist. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error return code.<ul>
<li>0 no error.</li>
<li>5 GRIB message contains an undefined Product Definition Template.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-05-26 </dd></dl>

<p class="definition">Definition at line <a class="el" href="getfield_8F90_source.html#l00504">504</a> of file <a class="el" href="getfield_8F90_source.html">getfield.F90</a>.</p>

<p class="reference">References <a class="el" href="pdstemplates_8F90_source.html#l00431">pdstemplates::extpdstemplate()</a>, <a class="el" href="g2__gbytesc_8F90_source.html#l00020">g2_gbytec()</a>, <a class="el" href="g2__gbytesc_8F90_source.html#l00063">g2_gbytesc()</a>, <a class="el" href="pdstemplates_8F90_source.html#l00391">pdstemplates::getpdstemplate()</a>, and <a class="el" href="rdieee_8F90_source.html#l00016">rdieee()</a>.</p>

<p class="reference">Referenced by <a class="el" href="getfield_8F90_source.html#l00110">getfield()</a>, and <a class="el" href="gettemplates_8F90_source.html#l00068">gettemplates()</a>.</p>

</div>
</div>
<a id="adcc218072eac5cf308be17654963fda7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc218072eac5cf308be17654963fda7">&#9670;&nbsp;</a></span>unpack5()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine unpack5 </td>
          <td>(</td>
          <td class="paramtype">character(len = 1), dimension(lcgrib), intent(in)&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lcgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ndpts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>idrsnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(out)&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer&#160;</td>
          <td class="paramname"><em>mapdrslen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks Section 5 (Data Representation Section) starting at octet 6 of that Section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgrib</td><td>Character array that contains the GRIB2 message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lcgrib</td><td>Length (in bytes) of GRIB message array cgrib. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">iofst</td><td>Bit offset of the beginning (in) or the end(out) of Section 5. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ndpts</td><td>Number of data points unpacked and returned. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idrsnum</td><td>Data Representation Template Number (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table5-0.shtml">Code Table 5.0</a>) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">idrstmpl</td><td>Contains the data values for the specified Data Representation Template (N = idrsnum). Each element of this integer array contains an entry (in the order specified) of Data Representation Template 5.N. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mapdrslen</td><td>Number of elements in idrstmpl. i.e. number of entries in Data Representation Template 5.N (N = idrsnum). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error return code.<ul>
<li>0 no error.</li>
<li>7 GRIB message contains an undefined Data Representation Template.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-05-26 </dd></dl>

<p class="definition">Definition at line <a class="el" href="getfield_8F90_source.html#l00613">613</a> of file <a class="el" href="getfield_8F90_source.html">getfield.F90</a>.</p>

<p class="reference">References <a class="el" href="drstemplates_8F90_source.html#l00202">drstemplates::extdrstemplate()</a>, <a class="el" href="g2__gbytesc_8F90_source.html#l00020">g2_gbytec()</a>, and <a class="el" href="drstemplates_8F90_source.html#l00157">drstemplates::getdrstemplate()</a>.</p>

<p class="reference">Referenced by <a class="el" href="getfield_8F90_source.html#l00110">getfield()</a>.</p>

</div>
</div>
<a id="a75a590da8a72857e7c0d51c62b64a1bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75a590da8a72857e7c0d51c62b64a1bf">&#9670;&nbsp;</a></span>unpack6()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine unpack6 </td>
          <td>(</td>
          <td class="paramtype">character(len = 1), dimension(lcgrib), intent(in)&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lcgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(inout)&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ngpts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ibmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical*1, dimension(ngpts), intent(out)&#160;</td>
          <td class="paramname"><em>bmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks Section 6 (Bit-Map Section) starting at octet 6 of that Section. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cgrib</td><td>Character array that contains the GRIB2 message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lcgrib</td><td>Length (in bytes) of GRIB message array cgrib. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">iofst</td><td>Bit offset of the beginning (in) or the end (out) of Section 6. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ngpts</td><td>Number of grid points specified in the bit-map. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ibmap</td><td>Bitmap indicator (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table6-0.shtml">Code Table 6.0</a>).<ul>
<li>0 bitmap applies and is included in Section 6.</li>
<li>1-253 Predefined bitmap applies.</li>
<li>254 Previously defined bitmap applies to this field.</li>
<li>255 Bit map does not apply to this product. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bmap</td><td>Logical*1 array containing decoded bitmap (if ibmap = 0). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error return code.<ul>
<li>0 no error.</li>
<li>4 Unrecognized pre-defined bit-map.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-05-26 </dd></dl>

<p class="definition">Definition at line <a class="el" href="getfield_8F90_source.html#l00709">709</a> of file <a class="el" href="getfield_8F90_source.html">getfield.F90</a>.</p>

<p class="reference">References <a class="el" href="g2__gbytesc_8F90_source.html#l00020">g2_gbytec()</a>, and <a class="el" href="g2__gbytesc_8F90_source.html#l00063">g2_gbytesc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="getfield_8F90_source.html#l00110">getfield()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="getfield_8F90.html">getfield.F90</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
